var ng_eRSP_App=angular.module("ng_eRSP_App",[]);ng_eRSP_App.run(function(){function t(n){for(var i=[],r=$("#"+n).DataTable().rows().data(),t=0;t<r.length;++t)i.push(r[t]);return i}function n(n,t){var i=!1,r=0;return $("#"+t+" tr").each(function(){if($.each(this.cells,function(t){if(t==0&&$(this).text()==n)return i=!0,!1}),i)return $(this).addClass("selected"),!1;r++}),i}elEmpty=function(n){return n==null||n==""||n==undefined?!0:!1};String.prototype.get_page=function(n){var i=this,t=!1,r=0;return $("#"+n+" tr").each(function(){if($.each(this.cells,function(n){if(n==0&&$(this).text()==i)return t=!0,!1}),t)return $(this).addClass("selected"),!1;r++}),t};Array.prototype.refreshTable=function(t,i){if(this.length==0?$("#"+t).dataTable().fnClearTable():($("#"+t).dataTable().fnClearTable(),$("#"+t).dataTable().fnAddData(this)),i!="")for(var r=1;r<=$("#"+t).DataTable().page.info().pages;r++)if(console.log(n(i,t)),n(i,t)==!1)$("#"+t).dataTable().fnPageChange(r);else break;return this};Array.prototype.populateFields=function(n,t){for(var u,f=n,e=this[t],r=Object.keys(n),s=Object.keys(e),o=Object.keys(e).map(function(n){return e[n]}),i=0;i<r.length;i++)for(u=0;u<s.length;u++)$("#"+r[i])[0]!=undefined&&$("#"+r[i])[0].hasAttribute("noinclude")==!1&&r[i]==s[u]&&($("#"+r[i])[0].name=="boolVal"?o[u]==!0?($("#"+r[i]).val("1"),f[r[i]]="1"):($("#"+r[i]).val("0"),f[r[i]]="0"):($("#"+r[i]).val(o[u]),f[r[i]]=o[u]));return f};Array.prototype.populateFields2=function(n,t){for(var i,f=this[t],u=document.getElementById(n),e=Object.keys(f),o=Object.keys(f).map(function(n){return f[n]}),r=0;r<u.length;r++)for(i=0;i<e.length;i++)u[r].id==e[i]&&(u[r].value=u[r].name=="boolVal"?o[i]==!0?"1":"0":o[i])};Array.prototype.select=function(n,t){return this.filter(function(i){return i[t]==n})};Array.prototype.delete=function(n,t){return this.filter(function(i){return i[t]!=n})};Array.prototype.delete=function(n){return this.filter(function(t,i){return i!=n})};Array.prototype.deletebyprop=function(n,t){return this.filter(function(i){return i[t]!=n})};Array.prototype.createNewDataArray=function(){for(var i=[],t=this,n=0;n<t.length;n++)i.push({seq_no:t[n].seq_no,app_ctrl_nbr:t[n].app_ctrl_nbr,psb_selected:t[n].psb_selected});return i}});ng_eRSP_App.service("commonScript",["$compile","$filter",function(n){var s=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,f="getElementById",h="getElementsByClassName",c="createElement",u="parentNode",n="color",l="insertBefore",a="nextSibling",v="innerHTML",e="style",o="removeChild",y="cssFloat",p="isValid",w="YYYY-MM-DD",t="required2",r="notrequired2",i="elEmpty",b=!0,k=this,k=this;return{search_in_list:function(n,t){try{$("#"+t).DataTable().search(n).draw()}catch(i){swal(i.message,{icon:"error"})}},setNumOfRow:function(n,t){try{$("#"+t).DataTable().page.len(n).draw()}catch(i){swal(i.message,{icon:"error"})}},currentyear:function(){return(new Date).getFullYear().toString()},sector:function(n){return n?"Government":"Private"},YesOrNo:function(n){return n==!0?"Yes":n==!1?"No":""},clearTable:function(n){$("#"+n).dataTable().fnClearTable()},loading:function(n){$("#common_loading_modal").modal(n)},RetrieveYear:function(){for(var r,n=[],u=(new Date).getFullYear(),t=u-8,i=1;i<=9;i++)r={year:t},n.push(r),t++;return n},TextValue:function(n,t){if(elEmpty(n))return"";var i=t.filter(function(t){return t.id==n})[0].text;return elEmpty(i)?"":i},ValidateFields:function(n){for(var u,r=0,i=Object.keys(n),t=0;t<i.length;t++)u=$("#"+i[t]).val(),$("#"+i[t])[0]!=undefined&&$("#"+i[t])[0].hasAttribute("required")&&(this.elEmpty(u)?(this.required(i[t]),r=r+1):this.notrequired(i[t]));return r==0?!0:!1},Validate1Field:function(n){var t=$("#"+n).val();return this.elEmpty(t)?(this.required2(n,"Required Field"),!1):(this.notrequired2(n),!0)},ValidateNotZero:function(n){var t=$("#"+n).val();return t==0||t=="0"?(this.required2(n,"Required Field"),!1):(this.notrequired2(n),!0)},elEmpty2:function(n,t){var i=$(n+t).val();return i.trim()==null||i.trim()==""||i.trim()==undefined?!0:!1},clearFields:function(n){for(var r=n,i=Object.keys(n),t=0;t<i.length;t++)$("#"+i[t])[0]!=undefined&&($("#"+i[t])[0].hasAttribute("noclear")==!1&&($("#"+i[t]).val(""),r[i[t]]=""),this.notrequired(i[t]));return r},clearFormFields:function(n){for(var f,u,r="length",i=$(this.D_id(n))[0],r=i[r],t=0;t<r;t++)f=i[t]["type"],u=i[t]["id"],$("#"+u).val("")},clearfield:function(n){$("#"+n).val("")},required:function(n){$("#"+n).css({"border-color":"red","border-width":"1px","border-style":"solid"});$("."+n).removeClass("hidden")},notrequired:function(n){$("#"+n).css({"border-color":"E5E6E7","border-width":"1px","border-style":"solid"});$("."+n).addClass("hidden")},elEmpty:function(n){return n==null||n==""||n==undefined?!0:!1},elEmpty3:function(n){var t=document[f](n);return t==null||t==""||t==undefined?!0:!1},removeFormReq:function(n){for(var i=Object.keys(n),t=0;t<i.length;t++)this.notrequired(i[t])},DisabledAllFields:function(n){for(var i=Object.keys(n),t=0;t<i.length;t++)$("#"+i[t])[0]!=undefined&&($("#"+i[t]).prop("disabled",!0),$("div.input-group-addon."+i[t]).hide())},DisabledField:function(n){$("#"+n).prop("disabled",!0)},EnabledField:function(n){$("#"+n)[0].hasAttribute("alwaysdisabled")||$("#"+n).prop("disabled",!1)},uncheckAllCheckbox:function(n){for(var i=Object.keys(n),t=0;t<i.length;t++)$("#"+i[t])[0]!=undefined&&$("#"+i[t])[0].type=="checkbox"&&$("#"+i[t]).prop("checked",!1)},leadingZeroMonth:function(n){return n+1<10?"0"+(n+1):n+1},leadingZeroDate:function(n){return n+1<10?"0"+n:n},EnabledAllFields:function(n){for(var i=Object.keys(n),t=0;t<i.length;t++)$("#"+i[t])[0]!=undefined&&($("#"+i[t])[0].hasAttribute("alwaysdisabled")||$("#"+i[t]).prop("disabled",!1))},spinnerRemove:function(n,t){$("."+n).removeClass("fa fa-spinner fa-spin");$("."+n).addClass(t);$("."+n).prop("disabled",!1)},spinnerAdd:function(n,t){$("."+n).removeClass(t);$("."+n).addClass("fa fa-spinner fa-spin");$("."+n).prop("disabled",!0)},D_id:function(n){return document[f](n)},D_cl:function(n){return document[h](n)},D_cE:function(n){return document[c](n)},insertAfter:function(n,t){n[u][l](t,n[a])},required2:function(t,i){$("#"+t).css({"border-color":"red","border-width":"1px","border-style":"solid"});var f=this.D_cl(t)[0],s=this.D_id(t),r=this.D_cE("span");r.className+=t;r[v]=i;r[e][n]="red";r[e][y]="right";this.elEmpty(f)?this.insertAfter(s,r):(f[u][o](f),this.insertAfter(s,r))},notrequired2:function(n){$("#"+n).css({"border-color":"#E5E6E7","border-width":"1px","border-style":"solid"});var t=this.D_cl(n)[0];this.elEmpty(t)||t[u][o](t)},valid_date:function(n,i){var u=0;return moment(n,w,b)[p]()?this[r](i):(this[t](i,"Invalid date"),u=u+1),u==0?!0:!1},valid_email:function(n,i){var u=0;return s.test(n)?this[r](i):(this[t](i,"Invalid email address"),u=u+1),u==0?!0:!1},valid_textbox:function(n,u){var f=0;return this[i](n)?(this[t](u,"Required field"),f=f+1):this[r](u),f==0?!0:!1},validatesubmit:function(n){var o,h,f,y,a,e,p;console.log(n);var l="hasAttribute",c="id",v="length",u=0,s=$(this.D_id(n))[0],v=s[v];for(o=0;o<v;o++)h=s[o]["type"],f=s[o][c],$("#"+f)[0]!=undefined&&(y=$("#"+s[o][c])[0][l]("required"),a=$("#"+s[o][c])[0][l]("mydate"),y&&(e=this.D_id(f)["value"],h!="text"||a||(this[i](e)?(this[t](f,"Required field"),u=u+1):this[r](f)),h=="number"?(p=$("#"+s[o][c])[0][l]("allowZero"),this[i](e)?(this[t](f,"Required field"),u=u+1):p||(e==0||e=="0"?(this[t](f,"Required field"),u=u+1):this[r](f))):h=="email"?this[i](e)?(this[t](f,"Required field"),u=u+1):this.valid_email(e,f)||(u=u+1):h=="select-one"?(console.log(this[i](e)),this[i](e)?(this[t](f,"Required field"),u=u+1):this[r](f)):a&&(this[i](e)?(this[t](f,"Required field"),u=u+1):this.valid_date(e,f)||(u=u+1))));return u==0?!0:!1},populateFormFields:function(n,t){var f="length",u=this.D_id(n),e=Object.keys(t),s=Object.keys(t).map(function(n){return t[n]}),i,o,h,r;for(console.log(e),console.log(s),f=u[f],i=0;i<f;i++)if(o=u[i]["type"],h=u[i]["id"],o!="button"&&o!="submit")for(r=0;r<e.length;r++)e[r].trim()==h.trim()&&(u[i]["value"]=s[r])},combine:function(n,t,i){for(var r,f="",e=Object.keys(i),o=Object.keys(i).map(function(n){return i[n]}),s=t.length,u=0;u<s;u++)for(console.log(t[u].trim()),r=0;r<t.length;r++)console.log(e[r].trim()),t[u].trim()==e[r].trim()&&(f=f+o[r]);$("#"+n).val(f)},dropdown:function(n){var i=[],t={},r=this.elEmpty(n.items)?"":n.items,u=this.elEmpty(n.value)?"":n.value,f=this.elEmpty(n.description)?"":n.description;return r.length==0?(t[u]="0",t[f]="No item to show",i.push(t),i):r},count_grid_cbcheck:function(n,t){var r=n.length,i=0;for(x=0;x<r;x++)$("#"+t+x).is(":checked")&&i++;return i>0?!0:!1},CheckOnlyOne:function(n,t,i){var r=n.length;for(x=0;x<r;x++)x==i?$("#"+t+x).prop("checked",!0):$("#"+t+x).prop("checked",!1)},ifnull:function(n,t){return this.elEmpty(n)?t:n},dynamicSort:function(n){var t=1;return n[0]==="-"&&(t=-1,n=n.substr(1)),function(i,r){var u=i[n]<r[n]?-1:i[n]>r[n]?1:0;return u*t}},fetchDataFromForm:function(n){for(var r={},i=document.getElementById(n),t=0;t<i.length;t++)r[i[t].id]=i[t].value;return r}}}]);ng_eRSP_App.filter("filterdate",function(){var n=/\/Date\(([0-9]*)\)\//;return function(t){var i=t.match(n);return i?new Date(parseInt(i[1])):null}});ng_eRSP_App.directive("headerSearch",["commonScript",function(n){return{restrict:"C",link:function(t,i,r){i.on("keyup",function(){n.search_in_list(i.val(),r.tableref)})}}}]);ng_eRSP_App.directive("setTableRow",["commonScript",function(n){return{restrict:"C",link:function(t,i,r){i.on("change",function(){n.setNumOfRow(i.val(),r.tableref)})}}}]);ng_eRSP_App.directive("removeReq",["commonScript",function(n){return{restrict:"C",link:function(t,i,r){i.on("keyup",function(){n.elEmpty2("#",r.id)||n.notrequired(r.id)})}}}]);ng_eRSP_App.directive("removeReqDate",["commonScript",function(n){return{restrict:"C",link:function(t,i,r){i.on("blur",function(){n.elEmpty(i.val())||n.notrequired(r.id)})}}}]);ng_eRSP_App.directive("removeReqOption",["commonScript",function(n){return{restrict:"C",link:function(t,i,r){i.on("change",function(){n.elEmpty(i.val())||n.notrequired(r.id)})}}}]);ng_eRSP_App.directive("dateMinVal",["commonScript",function(n){return{restrict:"C",link:function(t,i,r){i.on("blur",function(){var u=i[0].form.id,e=r.id,f=i.val(),o=$("#"+u+' input[name="maxDate"]').val(),s=t[u];n.elEmpty(f)||n.elEmpty($("#"+u+' input[name="maxDate"]').val())||f>=o&&(swal("You have selected "+f+". Date from must be lower than Date to",{icon:"warning"}),i.val(""),s[e]="",$("#"+e).focus())})}}}]);ng_eRSP_App.directive("dateMaxVal",["commonScript",function(n){return{restrict:"C",link:function(t,i,r){i.on("blur",function(){var u=i[0].form.id,e=r.id,f=i.val(),o=$("#"+u+' input[name="minDate"]').val(),s=t[u];n.elEmpty(f)||n.elEmpty($("#"+u+' input[name="minDate"]').val())||f<=o&&(swal("You have selected "+f+". Date to must be higher than Date from",{icon:"warning"}),i.val(""),s[e]="",$("#"+e).focus())})}}}]);ng_eRSP_App.directive("norequired",["commonScript",function(n){var t="type";return{restrict:"C",link:function(i,r){r.on("focus",function(){var i=r[0][t],u=r[0].id;if(i=="text"||i=="email"||i=="number")r.on("keyup",function(){var t=r[0].value;n.elEmpty(t)||n.notrequired2(u)});else if(i=="select-one")r.on("change",function(){var t=r[0].value;n.elEmpty(t)||n.notrequired2(u)})})}}}]);
//# sourceMappingURL=ngApp.min.js.map
