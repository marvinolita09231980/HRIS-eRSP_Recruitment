ng_eRSP_App.controller("cAddApplicant_Ctrlr",function(n,t,i,r,u){function h(){s([]);f.appl_year="";f.let_Lname="A";f.wx.workxp_sal_grade="NA";f.rowLen="10";f.year=e.RetrieveYear();o.post("../cAddApplicants/Initialize",{employment_type:f.employment_type}).then(function(n){n.data.icon=="success"&&(f.budget_year=n.data.budget_year,f.fd.info_ctrl_nbr_disp=e.currentyear+"-"+n.data.info_ctrl_nbr,f.info_ctrl_nbr=n.data.info_ctrl_nbr)})}var f=t,o=i,e=n,s;f.header_title="ADD APPLICANTS INFO";f.rowLen="";f.doc_type="";f.pageTitle="";f.info_ctrl_nbr="";f.attach="active";f.employment_type="JO";f.person_message="";f.budget_code="";f.is_employee=0;f.modal=1;f.main_edit=!1;f.dtl_edit=!1;f.dropzone=!1;f.editonly=!1;f.adddetails=!1;f.hidesave=!1;f.allow_type_id=!1;f.applicantinfo=!0;f.person_warning=!1;f.hasdetails=!1;f.year=[];f.position_from_publication=[];f.budget_year=[];f.res_data=[];f.docname=[];f.um={};f.fd={info_ctrl_nbr_disp:"",last_name:"",first_name:"",middle_name:"",birth_date:"",gender:"",civil_status:"",app_address:"",applied_dttm:"",birth_date:""};f.wx={};f.ld={};f.el={};f.ed={};f.status=[{id:"RC",text:"Received"},{id:"WS",text:"Waiting List"},{id:"SL",text:"Short List"},{id:"PS",text:"PSB Screened"},{id:"AP",text:"Approved"}];f.AT=[{id:"",text:""},{id:"JO",text:"Job Order"},{id:"RE",text:"Permanent"},{id:"CE",text:"CASUAL"}];f.alphabet_list=[{alpha_name:"A"},{alpha_name:"B"},{alpha_name:"C"},{alpha_name:"D"},{alpha_name:"E"},{alpha_name:"F"},{alpha_name:"G"},{alpha_name:"H"},{alpha_name:"I"},{alpha_name:"J"},{alpha_name:"K"},{alpha_name:"L"},{alpha_name:"M"},{alpha_name:"N"},{alpha_name:"O"},{alpha_name:"P"},{alpha_name:"Q"},{alpha_name:"R"},{alpha_name:"S"},{alpha_name:"T"},{alpha_name:"U"},{alpha_name:"V"},{alpha_name:"W"},{alpha_name:"X"},{alpha_name:"Y"},{alpha_name:"Z"}];f.svc=[{id:!1,text:"No"},{id:!0,text:"Yes"}];s=function(n){f.Applicant_List_Data=n;f.Applicant_List_Table=$("#Applicant_List_Grid").dataTable({data:f.Applicant_List_Data,sDom:'rt<"bottom"p>',pageLength:10,columns:[{mData:"app_ctrl_nbr_disp",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"applicant_name",mRender:function(n){return"<span class='text-left btn-block'>"+n+"<\/span>"}},{mData:"applied_dttm",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"gender_descr",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"age",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"civil_status_descr",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"enabled",bSortable:!1,mRender:function(n,t,i,r){return'<center><div class="btn-group"><button  type="button" class="btn btn-info btn-sm action" data-toggle="tab" href="#tab-7" ng-click="main_btn_edit('+r.row+')" >  <i class="fa fa-edit"><\/i><\/button ><button  type="button" class="btn btn-danger btn-sm action" ng-click="btn_del_row_main_grid('+r.row+')">   <i id="del_row'+r.row+'" class="fa fa-trash"><\/i><\/button><\/div><\/center>'}}],createdRow:function(n){u(n)(t)}});$("div.toolbar").html("<b>Custom tool bar! Text/images etc.<\/b>")};h();f.cancelfetch=function(){f.allow_type_id=!1;f.current_empl_id="";$("#choose_applicanttype").modal("hide")};f.fetchfromPDS=function(){var n=f.current_empl_id;o.post("../cAddApplicants/FetchFromPDS",{empl_id:n,info_ctrl_nbr:f.info_ctrl_nbr}).then(function(n){n.data.icon=="success"?(console.log(n.data.applicants),n.data.DatafrmPDS=="Data successfully inserted"&&(n.data.applicants.populateFields(f.fd,0),f.Applicant_List_Data=n.data.applicants.refreshTable("Applicant_List_Grid",""),swal("Data from PDS successfully inserted",{icon:"info"}))):swal("Data from PDS not successfully fetch",{icon:"info"})});$("#choose_applicanttype").modal("hide")};f.FindPersonnel=function(n){n.length==4&&o.post("../cAddApplicants/FindPersonnel",{empl_id:n}).then(function(n){n.data.person.is_added==0?(f.person_warning=!0,f.person_message=n.data.person.descr):n.data.person.is_added==1?(f.person_warning=!0,f.person_message=n.data.person.descr):f.current_employee_name=n.data.person.employee_name})};f.refreshfield=function(){e.clearFields(f.fd);e.removeFormReq(f.fd);$("#Applicant_List_Grid").dataTable().fnClearTable();f.current_empl_id="";o.post("../cAddApplicants/fetchAppCtrlNbr").then(function(n){n.data.icon=="success"&&(f.fd.info_ctrl_nbr_disp=e.currentyear+"-"+n.data.app_ctrl_nbr,f.app_ctrl_nbr=n.data.app_ctrl_nbr)})};f.Select_Doc_Type=function(n){f.doc_type=n};f.Select_ApplType=function(n){o.post("../cAddApplicants/GetApplicationNbr").then(function(t){n==1?(e.DisabledAllFields(f.fd),f.current_employee_name="",$("#choose_applicanttype").modal("show"),f.current_empl_id="",f.is_employee=n):(e.clearFields(f.fd),$("#Applicant_List_Grid").dataTable().fnClearTable(),f.current_empl_id="",f.allow_type_id=!1,f.is_employee=n,f.fd.app_status="RC");f.fd.info_ctrl_nbr_disp=e.currentyear+"-"+t.data.app_ctrl_nbr})};f.goToDetails=function(){var n=f.Applicant_List_Data[0].app_ctrl_nbr;location.href="cApplicationInfoDetails/Index?app_control_nbr="+n};f.Save_Application=function(){f.fd.birth_date=$("#birth_date").val();f.fd.applied_dttm=$("#applied_dttm").val();e.ValidateFields(f.fd)&&o.post("../cAddApplicants/Save_Application",{app:f.fd,info_ctrl_nbr_disp:f.fd.info_ctrl_nbr_disp}).then(function(n){n.data.icon=="success"?(swal(n.data.message,{icon:n.data.icon}),f.Applicant_List_Data=n.data.list.refreshTable("Applicant_List_Grid","")):swal(n.data.message,{icon:n.data.icon})})};f.selectEmployment=function(n){f.budget_code="";e.DisabledAllFields(f.fd);e.DisabledField("save_fd");o.post("../cAddApplicants/getBudgetYear",{employment_type:n}).then(function(n){n.data.icon=="success"?f.budget_year=n.data.budget_year:console.log(n.data.message)})}});
//# sourceMappingURL=ng-cAddApplicant.min.js.map
