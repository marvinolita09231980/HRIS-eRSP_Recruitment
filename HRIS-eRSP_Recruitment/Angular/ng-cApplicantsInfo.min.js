ng_eRSP_App.controller("cApplicantsInfo_Ctrlr",function(n,t,i,r,u){function v(){e.loading("show");var n=new Date;f.mo=e.leadingZeroMonth(n.getMonth());f.yr=n.getFullYear().toString();f.dy=e.leadingZeroDate(n.getDate());f.rowLen="10";o.post("../cApplicantsInfo/Initialize",{year:f.yr,month:f.mo}).then(function(n){n.data.icon=="success"&&(f.Applicant_List_Data=n.data.list.refreshTable("Applicant_List_Grid",""),f.um=n.data.um,e.loading("hide"))})}function y(n){return n?"Government":n==!1?"Private":""}var f=t,o=i,e=n,s,h,c,l,a;f.header_title="APPLICANT LIST";f.modal=1;f.rowLen="";f.doc_type="";f.pageTitle="Applicant Information";f.main_edit=!1;f.dtl_edit=!1;f.dropzone=!1;f.editonly=!1;f.adddetails=!1;f.hidesave=!1;f.allow_type_id=!0;f.applicantinfo=!0;f.attach="active";f.employment_type="";f.budget_year=[];f.budget_code="";f.next_infoctrlnbr="";f.hasdetails=!1;f.info_ctrl_nbr="";f.savebtn="save";f.year=[];f.items=[];f.res_data=[];f.DATA={};f.um={};f.fd={app_ctrl_nbr:"",app_ctrl_nbr_disp:"",last_name:"",first_name:"",middle_name:"",birth_date:"",gender:"",civil_status:"",app_address:"",appointment_type:"",applied_dttm:"",applied_year:"",applicant_name:"",applicant_type:"",app_status:"",empl_id:"",appl_date_applied:"",appl_birth_date:""};f.itm={employment_type:"",budget_code:"",item_no:"",position_code:"",department_code:"",department_name1:""};f.wx={};f.ld={};f.el={};f.ed={};f.docname=[];f.month=[{id:"01",text:"January"},{id:"02",text:"February"},{id:"03",text:"March"},{id:"04",text:"April"},{id:"05",text:"May"},{id:"06",text:"June"},{id:"07",text:"July"},{id:"08",text:"August"},{id:"09",text:"September"},{id:"10",text:"October"},{id:"11",text:"November"},{id:"12",text:"December"},];f.year=e.RetrieveYear();f.fd.app_type="N";f.status=[{id:"",text:""},{id:"RC",text:"Received"},{id:"WS",text:"Waiting List"},{id:"SL",text:"Short List"},{id:"PS",text:"PSB Screened"},{id:"AP",text:"Approved"}];f.AT=[{id:"",text:""},{id:"JO",text:"Job Order"},{id:"RE",text:"Permanent"},{id:"CE",text:"CASUAL"}];f.alphabet_list=[{alpha_name:"A"},{alpha_name:"B"},{alpha_name:"C"},{alpha_name:"D"},{alpha_name:"E"},{alpha_name:"F"},{alpha_name:"G"},{alpha_name:"H"},{alpha_name:"I"},{alpha_name:"J"},{alpha_name:"K"},{alpha_name:"L"},{alpha_name:"M"},{alpha_name:"N"},{alpha_name:"O"},{alpha_name:"P"},{alpha_name:"Q"},{alpha_name:"R"},{alpha_name:"S"},{alpha_name:"T"},{alpha_name:"U"},{alpha_name:"V"},{alpha_name:"W"},{alpha_name:"X"},{alpha_name:"Y"},{alpha_name:"Z"}];f.svc=[{id:!1,text:"No"},{id:!0,text:"Yes"}];s=function(n){f.Applicant_List_Data=n;f.Applicant_List_Table=$("#Applicant_List_Grid").dataTable({data:f.Applicant_List_Data,sDom:'rt<"bottom"p>',pageLength:10,columns:[{mData:"info_ctrl_nbr_disp",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"applicant_name",mRender:function(n){return"<span class='text-left btn-block'>"+n+"<\/span>"}},{mData:"applied_dttm",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"gender_descr",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"age",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"civil_status_descr",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"enabled",bSortable:!1,mRender:function(n,t,i,r){return'<center><div class="btn-group"><button  type="button" class="btn btn-success btn-sm action" data-toggle="tab" href="#tab-7" ng-click="add_to_review('+r.row+')" data-toggle="tooltip" data-placement="left" title="Add To Review">  <i class="fa fa-plus"><\/i><\/button ><button  type="button" class="btn btn-info btn-sm action" data-toggle="tab" href="#tab-7" ng-click="btn_edit('+r.row+')" data-toggle="tooltip" data-placement="left" title="Edit">  <i class="fa fa-edit"><\/i><\/button ><button  type="button" class="btn btn-warning btn-sm action" ng-click="btn_to_details('+r.row+')" data-toggle="tooltip" data-placement="left" title="Qualification">   <i id="det_row'+r.row+'" class="fa fa-bars"><\/i><\/button><button  type="button" class="btn btn-danger btn-sm action" ng-click="btn_del_row_main_grid('+r.row+')" data-toggle="tooltip" data-placement="left" title="Delete">   <i class="del_row'+r.row+' fa fa-trash"><\/i><\/button><\/div><\/center>'}}],createdRow:function(n){u(n)(t)}});$("div.toolbar").html("<b>Custom tool bar! Text/images etc.<\/b>")};f.ddl_educ_type=[];f.ed={educ_type:"",school_name:"",basic_educ_deg:"",period_from:"",period_to:"",highest_lvl_earned:"",year_graduated:"",schlr_acdmic_rcvd:""};h=function(n){f.Education_List_Data=n;f.Education_List_Table=$("#appl_edu_grid").dataTable({data:f.Education_List_Data,sDom:'rt<"bottom"p>',pageLength:10,columns:[{mData:"school_name",mRender:function(n){return"<span class='text-left btn-block'>"+n+"<\/span>"}},{mData:"basic_educ_deg",mRender:function(n){return"<span class='text-left btn-block'>"+n+"<\/span>"}},{mData:"period_from",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"period_to",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"year_graduated",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:null,bSortable:!1,mRender:function(n,t,i,r){return'<center><div class="btn-group"><button  type="button" class="btn btn-info btn-sm action" ng-click="educ_edit_action('+r.row+')" >  <i class="fa fa-edit"><\/i><\/button ><button  type="button" class="btn btn-danger btn-sm action" ng-click="educ_del_row('+r.row+')">   <i id="educ_del_row'+r.row+'" class="fa fa-trash"><\/i><\/button><\/div><\/center>'}}],createdRow:function(n){u(n)(t)}});$("div.toolbar").html("<b>Custom tool bar! Text/images etc.<\/b>")};f.el={cscsrvc_ra1080:"",rating:"",examination_date:"",examination_place:"",number:"",validity_date:""};c=function(n){f.Eligibility_List_Data=n;f.Eligibility_List_Table=$("#appl_elegib_grid").dataTable({data:f.Eligibility_List_Data,sDom:'rt<"bottom"p>',pageLength:10,columns:[{mData:"number",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"cscsrvc_ra1080",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"rating",mRender:function(n){return"<span class='text-left btn-block'>"+n+"<\/span>"}},{mData:"validity_date",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:null,bSortable:!1,mRender:function(n,t,i,r){return'<center><div class="btn-group"><button  type="button" class="btn btn-info btn-sm action" ng-click="elig_edit_action('+r.row+')" >  <i class="fa fa-edit"><\/i><\/button ><button  type="button" class="btn btn-danger btn-sm action" ng-click="elig_del_row('+r.row+')">   <i id="elig_del_row'+r.row+'" class="fa fa-trash"><\/i><\/button><\/div><\/center>'}}],createdRow:function(n){u(n)(t)}});$("div.toolbar").html("<b>Custom tool bar! Text/images etc.<\/b>")};f.salgrade=[];f.wx={workexp_from:"",workexp_to:"",position_title:"",dept_agncy_offc_co:"",monthly_salary:"",salary_job_grade:"",appt_status:"",gov_srvc:""};l=function(n){f.Workexp_List_Data=n;f.Workexp_List_Table=$("#appl_workexp_grid").dataTable({data:f.Workexp_List_Data,sDom:'rt<"bottom"p>',pageLength:10,columns:[{mData:"workexp_from",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"workexp_to",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"position_title",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"dept_agncy_offc_co",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"gov_srvc",mRender:function(n){return"<span class='text-left btn-block'>"+y(n)+"<\/span>"}},{mData:null,bSortable:!1,mRender:function(n,t,i,r){return'<center><div class="btn-group"><button  type="button" class="btn btn-info btn-sm action" ng-click="exp_edit_action('+r.row+')" >  <i class="fa fa-edit"><\/i><\/button ><button  type="button" class="btn btn-danger btn-sm action" ng-click="exp_del_row('+r.row+')">   <i id="exp_del_row'+r.row+'" class="fa fa-trash"><\/i><\/button><\/div><\/center>'}}],createdRow:function(n){u(n)(t)}});$("div.toolbar").html("<b>Custom tool bar! Text/images etc.<\/b>")};f.ld={learn_devt_title:"",learn_devt_from:"",learn_devt_to:"",no_of_hrs:"",learn_devt_type:"",conducted_by:""};a=function(n){f.LnD_List_Data=n;f.LnD_List_Table=$("#appl_lnd_grid").dataTable({data:f.LnD_List_Data,sDom:'rt<"bottom"p>',pageLength:10,columns:[{mData:"learn_devt_title",mRender:function(n){return"<span class='text-left btn-block'>"+n+"<\/span>"}},{mData:"learn_devt_from",mRender:function(n){return"<span class='text-left btn-block'>"+n+"<\/span>"}},{mData:"learn_devt_to",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"no_of_hrs",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"learn_devt_type",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:"conducted_by",mRender:function(n){return"<span class='text-center btn-block'>"+n+"<\/span>"}},{mData:null,bSortable:!1,mRender:function(n,t,i,r){return'<center><div class="btn-group"><button  type="button" class="btn btn-info btn-sm action" ng-click="lnd_edit_action('+r.row+')" >  <i class="fa fa-edit"><\/i><\/button ><button  type="button" class="btn btn-danger btn-sm action" ng-click="lnd_del_row('+r.row+')">   <i id="lnd_del_row'+r.row+'" class="fa fa-trash"><\/i><\/button><\/div><\/center>'}}],createdRow:function(n){u(n)(t)}});$("div.toolbar").html("<b>Custom tool bar! Text/images etc.<\/b>")};s([]);h([]);c([]);l([]);a([]);v();f.AddApplicant=function(){f.savebtn="save";e.clearFields(f.fd);o.post("../cApplicantsInfo/GetApplicationNbr").then(function(n){f.fd.info_ctrl_nbr_disp=e.currentyear()+"-"+n.data.info_ctrl_nbr;f.info_ctrl_nbr=n.data.info_ctrl_nbr;$("#addApplicants").modal("show");$("#applied_dttm").val(f.yr+"-"+f.mo+"-"+f.dy)})};f.Select_ApplType=function(n){n==1?o.post("../cApplicantsInfo/getNewInfoCtrlNbr").then(function(t){f.info_ctrl_nbr=t.data.next_infoctrlnbr;f.fd.info_ctrl_nbr_disp=e.currentyear()+"-"+t.data.next_infoctrlnbr;e.DisabledField("savebtn");e.DisabledAllFields(f.fd);f.current_employee_name="";$("#choose_applicanttype").modal("show");f.current_empl_id="";f.is_employee=n;e.clearFields(f.fd)}):n==2?location.href="../cOnlineApplicantsList/Index":(e.clearFields(f.fd),e.EnabledField("savebtn"),e.EnabledAllFields(f.fd),$("#Applicant_List_Grid").dataTable().fnClearTable(),f.current_empl_id="",f.allow_type_id=!1,f.is_employee=n,f.fd.app_status="RC")};f.FindPersonnel=function(n){n.length==4&&o.post("../cApplicantsInfo/FindPersonnel",{empl_id:n}).then(function(n){n.data.person.is_added==0?(f.person_warning=!0,f.person_message=n.data.person.descr):n.data.person.is_added==1?(f.person_warning=!0,f.person_message=n.data.person.descr):f.current_employee_name=n.data.person.employee_name})};f.cancelfetch=function(){f.allow_type_id=!1;f.current_empl_id="";$("#choose_applicanttype").modal("hide")};f.fetchfromPDS=function(){var n=f.current_empl_id,t=f.info_ctrl_nbr;o.post("../cApplicantsInfo/FetchFromPDS",{empl_id:n,info_ctrl_nbr:f.info_ctrl_nbr}).then(function(n){n.data.DatafrmPDS[0]=="Data successfully inserted"?o.post("../cApplicantsInfo/getApplicantList",{month:f.mo,year:f.yr}).then(function(n){if(n.data.icon=="success"){var i=n.data.list.select(t,"info_ctrl_nbr");i.populateFields(f.fd,0);f.Applicant_List_Data=n.data.list.refreshTable("Applicant_List_Grid","");swal("Data from PDS successfully inserted",{icon:"info"})}else console.log(n.data.message)}):swal("Data from PDS not successfully fetch",{icon:"error"})});$("#choose_applicanttype").modal("hide")};$(".i-checks").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"});$("#data_1 .input-group.date").datepicker({todayBtn:"linked",keyboardNavigation:!1,forceParse:!1,calendarWeeks:!0,autoclose:!0,format:"yyyy/mm/dd"});f.search_in_list=function(n,t){!elEmpty(n);$("#"+t).DataTable().search(n).draw()};f.setNumOfRow=function(n,t){$("#"+t).DataTable().page.len(f.rowLen).draw()};f.Select_Doc_Type=function(n){f.doc_type=n};f.btn_del_row_main_grid=function(n){var t=f.Applicant_List_Data[n],i;if(t.hasChild==!0){swal("You cannot delete this application because it is already added to Review List for screening",{icon:"warning"});return}i=t.info_ctrl_nbr;e.spinnerAdd("del_row"+n,"fa fa-trash");swal({title:"Are you sure to delete this record?",text:"Once deleted, you will not be able to recover this record!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t?o.post("../cApplicantsInfo/DeleteApplicants",{info_ctrl_nbr:i,year:f.yr,month:f.mo}).then(function(t){t.data.icon=="success"?(f.Applicant_List_Data=t.data.returndata.refreshTable("Applicant_List_Grid",""),swal(t.data.message,{icon:t.data.icon})):swal(t.data.message,{icon:t.data.icon});e.spinnerRemove("del_row"+n,"fa fa-trash")}):e.spinnerRemove("del_row"+n,"fa fa-trash")})};f.btn_edit=function(n){f.savebtn="edit";e.EnabledField("savebtn");e.clearFields(f.fd);e.EnabledAllFields(f.fd);var t=f.Applicant_List_Data[n];f.info_ctrl_nbr=t.info_ctrl_nbr;f.Applicant_List_Data.populateFields(f.fd,n);f.fd.info_ctrl_nbr_disp=e.currentyear()+"-"+f.info_ctrl_nbr;$("#addApplicants").modal("show")};f.selectDate=function(){e.elEmpty(f.yr)||e.elEmpty(f.mo)||o.post("../cApplicantsInfo/getApplicantList",{month:f.mo,year:f.yr}).then(function(n){n.data.icon=="success"?f.Applicant_List_Data=n.data.list.refreshTable("Applicant_List_Grid",""):console.log(n.data.message)})};f.selectItem=function(n){if(e.elEmpty(n))f.itm.department_name1="",f.itm.position_code="",f.itm.department_code="";else{var t=f.items.filter(function(t){return t.item_no==n})[0];f.itm.department_name1=t.department_name1;f.itm.position_code=t.position_code;f.itm.department_code=t.department_code}};f.selectEmploymentType=function(n){f.budget_year=[];f.items=[];f.itm.department_name1="";f.itm.position_code="";f.itm.department_code="";f.employment_type=n;o.post("../cApplicantsInfo/getBudgetYear",{employment_type:n}).then(function(n){f.budget_year=n.data.budget_year})};f.selectBudgetYear=function(n){f.items=[];f.itm.department_name1="";f.itm.position_code="";f.itm.department_code="";o.post("../cApplicantsInfo/getItems",{employment_type:f.employment_type,budget_code:n}).then(function(n){f.items=n.data.items})};f.add_to_review=function(n){f.DATA=f.Applicant_List_Data[n];$("#addItemNo").modal("show")};f.addItem=function(n){e.ValidateFields(n)&&(e.spinnerAdd("i_btn","fa fa-plus"),o.post("../cApplicantsInfo/addToReviewTable",{app:f.DATA,item:n}).then(function(n){n.data.icn=="success"?(swal(n.data.message,{icon:n.data.icn}),$("#addItemNo").modal("hide"),e.clearFields(f.itm)):swal(n.data.message,{icon:n.data.icn});e.spinnerRemove("i_btn","fa fa-plus")}))};f.Save_Application=function(){f.fd.birth_date=$("#birth_date").val();f.fd.applied_dttm=$("#applied_dttm").val();e.ValidateFields(f.fd)&&o.post("../cApplicantsInfo/Save_Application",{mo:f.mo,yr:f.yr,savebtn:f.savebtn,app:f.fd,info_ctrl_nbr_disp:f.fd.info_ctrl_nbr_disp}).then(function(n){n.data.icon=="success"?(swal(n.data.message,{icon:n.data.icon}),f.Applicant_List_Data=n.data.list.refreshTable("Applicant_List_Grid","")):swal(n.data.message,{icon:n.data.icon})})};f.btn_to_details=function(n){var t=f.Applicant_List_Data[n];f.info_ctrl_nbr=t.info_ctrl_nbr;o.post("../cApplicantsInfo/InitializeDetails",{info_ctrl_nbr:f.info_ctrl_nbr}).then(function(n){f.ddl_educ_type=n.data.educ_type;f.salgrade=n.data.salgrade;f.Education_List_Data=n.data.education.refreshTable("appl_edu_grid","");f.Eligibility_List_Data=n.data.eligibility.refreshTable("appl_elegib_grid","");f.Workexp_List_Data=n.data.experience.refreshTable("appl_workexp_grid","");f.LnD_List_Data=n.data.training.refreshTable("appl_lnd_grid","");$("#applicantsDetails").modal("show")})};f.show_add_modal=function(n){f.editMode=!1;$("#"+n).modal("show")};f.educ_edit_action=function(n){f.info_ctrl_nbr=f.Education_List_Data[n].info_ctrl_nbr;f.seq_no=f.Education_List_Data[n].seq_no;f.Education_List_Data.populateFields(f.ed,n);f.editMode=!0;$("#educ_dtl_modal").modal("show")};$("#educ_dtl_modal").on("hidden.bs.modal",function(){e.clearFields(f.ed);e.removeFormReq(f.ed);f.editMode=!1});f.edu_btn_add=function(){e.ValidateFields(f.ed)&&(f.editMode?o.post("../cApplicantsInfo/EditEduc",{ed:f.ed,info_ctrl_nbr:f.info_ctrl_nbr,seq_no:f.seq_no}).then(function(n){(n.data.icon="success")?(f.Education_List_Data=n.data.returndata.refreshTable("appl_edu_grid",""),swal(n.data.message,{icon:n.data.icon})):swal(n.data.message,{icon:n.data.icon})}):o.post("../cApplicantsInfo/AddEduc",{ed:f.ed,info_ctrl_nbr:f.info_ctrl_nbr}).then(function(n){(n.data.icon="success")?(f.Education_List_Data=n.data.returndata.refreshTable("appl_edu_grid",""),swal(n.data.message,{icon:n.data.icon})):swal(n.data.message,{icon:n.data.icon})}))};f.educ_del_row=function(n){e.spinnerAdd("educ_del_row"+n,"fa fa-trash");f.app_ctrl_nbr=f.Education_List_Data[n].app_ctrl_nbr;f.seq_no=f.Education_List_Data[n].seq_no;swal({title:"Are you sure to delete this record?",text:"Once deleted, you will not be able to recover this record!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t?o.post("../cApplicantsInfo/DeleteEduc",{info_ctrl_nbr:f.info_ctrl_nbr,seq_no:f.seq_no}).then(function(t){(t.data.icon="success")?(f.Education_List_Data=t.data.returndata.refreshTable("appl_edu_grid",""),swal(t.data.message,{icon:t.data.icon})):swal(t.data.message,{icon:t.data.icon});e.spinnerRemove("educ_del_row"+n,"fa fa-trash")}):e.spinnerRemove("educ_del_row"+n,"fa fa-trash")})};f.elig_btn_add=function(){e.ValidateFields(f.el)&&(f.editMode?o.post("../cApplicantsInfo/EditElig",{el:f.el,info_ctrl_nbr:f.info_ctrl_nbr,seq_no:f.seq_no}).then(function(n){(n.data.icon="success")?(f.Eligibility_List_Data=n.data.returndata.refreshTable("appl_elegib_grid",""),swal(n.data.message,{icon:n.data.icon})):swal(n.data.message,{icon:n.data.icon})}):o.post("../cApplicantsInfo/AddElig",{el:f.el,info_ctrl_nbr:f.info_ctrl_nbr}).then(function(n){(n.data.icon="success")?(f.Eligibility_List_Data=n.data.returndata.refreshTable("appl_elegib_grid",""),swal(n.data.message,{icon:n.data.icon})):swal(n.data.message,{icon:n.data.icon})}))};f.elig_edit_action=function(n){f.info_ctrl_nbr=f.Eligibility_List_Data[n].info_ctrl_nbr;f.seq_no=f.Eligibility_List_Data[n].seq_no;f.Eligibility_List_Data.populateFields(f.el,n);f.editMode=!0;$("#eligib_dtl_modal").modal("show")};$("#eligib_dtl_modal").on("hidden.bs.modal",function(){e.clearFields(f.el);e.removeFormReq(f.el);f.editMode=!1});f.elig_del_row=function(n){e.spinnerAdd("elig_del_row"+n,"fa fa-trash");f.info_ctrl_nbr=f.Eligibility_List_Data[n].info_ctrl_nbr;f.seq_no=f.Eligibility_List_Data[n].seq_no;swal({title:"Are you sure to delete this record?",text:"Once deleted, you will not be able to recover this record!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t?o.post("../cApplicantsInfo/DeleteElig",{info_ctrl_nbr:f.info_ctrl_nbr,seq_no:f.seq_no}).then(function(t){(t.data.icon="success")?(f.Eligibility_List_Data=t.data.returndata.refreshTable("appl_elegib_grid",""),swal(t.data.message,{icon:t.data.icon})):swal(t.data.message,{icon:t.data.icon});e.spinnerRemove("elig_del_row"+n,"fa fa-trash")}):e.spinnerRemove("elig_del_row"+n,"fa fa-trash")})};f.exp_btn_add=function(n){gov=n.gov_srvc=="1"?!0:!1;e.ValidateFields(f.wx)&&(f.editMode?o.post("../cApplicantsInfo/EditWexp",{wx:f.wx,info_ctrl_nbr:f.info_ctrl_nbr,seq_no:f.seq_no,gov:gov}).then(function(n){(n.data.icon="success")?(f.Workexp_List_Data=n.data.returndata.refreshTable("appl_workexp_grid",""),swal(n.data.message,{icon:n.data.icon})):swal(n.data.message,{icon:n.data.icon});$("#workexp_dtl_modal").modal("hide")}):o.post("../cApplicantsInfo/AddWexp",{wx:f.wx,info_ctrl_nbr:f.info_ctrl_nbr,gov:gov}).then(function(n){(n.data.icon="success")?(f.Workexp_List_Data=n.data.returndata.refreshTable("appl_workexp_grid",""),swal(n.data.message,{icon:n.data.icon})):swal(n.data.message,{icon:n.data.icon});$("#workexp_dtl_modal").modal("hide")}))};f.exp_edit_action=function(n){var t=f.Workexp_List_Data[n];f.info_ctrl_nbr=t.info_ctrl_nbr;f.seq_no=t.seq_no;f.Workexp_List_Data.populateFields(f.wx,n);f.wx.gov_srvc=t.gov_srvc?"1":"0";f.editMode=!0;$("#workexp_dtl_modal").modal("show")};$("#workexp_dtl_modal").on("hidden.bs.modal",function(){e.clearFields(f.wx);e.removeFormReq(f.wx);f.editMode=!1});f.exp_del_row=function(n){e.spinnerAdd("exp_del_row"+n,"fa fa-trash");f.info_ctrl_nbr=f.Workexp_List_Data[n].info_ctrl_nbr;f.seq_no=f.Workexp_List_Data[n].seq_no;swal({title:"Are you sure to delete this record?",text:"Once deleted, you will not be able to recover this record!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t?o.post("../cApplicantsInfo/DeleteWexp",{info_ctrl_nbr:f.info_ctrl_nbr,seq_no:f.seq_no}).then(function(t){(t.data.icon="success")?(f.Workexp_List_Data=t.data.returndata.refreshTable("appl_workexp_grid",""),swal(t.data.message,{icon:t.data.icon})):swal(t.data.message,{icon:t.data.icon});e.spinnerRemove("exp_del_row"+n,"fa fa-trash")}):e.spinnerRemove("exp_del_row"+n,"fa fa-trash")})};f.lnd_btn_add=function(){f.ld.learn_devt_from=$("#learn_devt_from").val();f.ld.learn_devt_to=$("#learn_devt_to").val();e.ValidateFields(f.ld)&&(f.editMode?o.post("../cApplicantsInfo/EditLnD",{ld:f.ld,info_ctrl_nbr:f.info_ctrl_nbr,seq_no:f.seq_no}).then(function(n){(n.data.icon="success")?(f.LnD_List_Data=n.data.returndata.refreshTable("appl_lnd_grid",""),swal(n.data.message,{icon:n.data.icon})):swal(n.data.message,{icon:n.data.icon})}):o.post("../cApplicantsInfo/AddLnD",{ld:f.ld,info_ctrl_nbr:f.info_ctrl_nbr}).then(function(n){(n.data.icon="success")?(f.LnD_List_Data=n.data.returndata.refreshTable("appl_lnd_grid",""),swal(n.data.message,{icon:n.data.icon})):swal(n.data.message,{icon:n.data.icon})}))};f.lnd_edit_action=function(n){var t=f.LnD_List_Data[n];f.info_ctrl_nbr=t.info_ctrl_nbr;$("#period_from").val(t.period_from);$("#period_to").val(t.period_to);f.seq_no=t.seq_no;f.LnD_List_Data.populateFields(f.ld,n);f.editMode=!0;$("#lnd_dtl_modal").modal("show")};$("#lnd_dtl_modal").on("hidden.bs.modal",function(){e.clearFields(f.ld);e.removeFormReq(f.ld);f.editMode=!1});f.lnd_del_row=function(n){e.spinnerAdd("lnd_del_row"+n,"fa fa-trash");f.info_ctrl_nbr=f.LnD_List_Data[n].info_ctrl_nbr;f.seq_no=f.LnD_List_Data[n].seq_no;swal({title:"Are you sure to delete this record?",text:"Once deleted, you will not be able to recover this record!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t?o.post("../cApplicantsInfo/DeleteLnD",{info_ctrl_nbr:f.info_ctrl_nbr,seq_no:f.seq_no}).then(function(t){(t.data.icon="success")?(f.LnD_List_Data=t.data.returndata.refreshTable("appl_lnd_grid",""),swal(t.data.message,{icon:t.data.icon})):swal(t.data.message,{icon:t.data.icon});e.spinnerRemove("lnd_del_row"+n,"fa fa-trash")}):e.spinnerRemove("lnd_del_row"+n,"fa fa-trash")})}});
//# sourceMappingURL=ng-cApplicantsInfo.min.js.map
